import{f as te,a as M,b as Oa}from"../chunks/aXMHKwrC.js";import"../chunks/DVvGdtAv.js";import{o as mi}from"../chunks/BLI2rxyr.js";import{p as Te,b0 as ft,ad as Na,E as re,L as za,b1 as hi,b2 as bi,t as gi,b3 as Va,a_ as yi,b as m,at as Xa,a6 as _i,b4 as wi,b5 as xi,a8 as ee,g as t,a9 as ki,ac as r,aa as o,m as k,s as y,a7 as dt,af as ut,ae as Si,ab as i,b6 as Ri,b7 as D,f as Di}from"../chunks/C35yyax8.js";import{e as V,s as C}from"../chunks/BRhtlZwZ.js";import{i as Ae}from"../chunks/DHaAFFhE.js";import{e as ye,i as _e}from"../chunks/BfZJGWGF.js";import{t as ie,b as $e,f as Ua,s as ja,a as Ci}from"../chunks/B-5srZEY.js";import{h as Ii}from"../chunks/CQFSg5uF.js";import{s as _,r as P}from"../chunks/BIN7pnU7.js";import{i as Pi}from"../chunks/s6B4zksv.js";import{s as Ai,a as E,b as Fe}from"../chunks/BDLaGT0o.js";import{b as $i}from"../chunks/B3PhUMp0.js";import{w as Ee}from"../chunks/ljHMn1_X.js";function Fi(e,s){return e==null?null:String(e)}function Ei(e,s,f,h){var v=e.__style;if(Te||v!==s){var p=Fi(s);(!Te||p!==e.getAttribute("style"))&&(p==null?e.removeAttribute("style"):e.style.cssText=p),e.__style=s}return h}function qa(e,s,f=!1){if(e.multiple){if(s==null)return;if(!za(s))return hi();for(var h of e.options)h.selected=s.includes(we(h));return}for(h of e.options){var v=we(h);if(bi(v,s)){h.selected=!0;return}}(!f||s!==void 0)&&(e.selectedIndex=-1)}function Ti(e){var s=new MutationObserver(()=>{qa(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),gi(()=>{s.disconnect()})}function Li(e,s,f=s){var h=new WeakSet,v=!0;ft(e,"change",p=>{var A=p?"[selected]":":checked",I;if(e.multiple)I=[].map.call(e.querySelectorAll(A),we);else{var n=e.querySelector(A)??e.querySelector("option:not([disabled])");I=n&&we(n)}f(I),re!==null&&h.add(re)}),Na(()=>{var p=s();if(e===document.activeElement){var A=Va??re;if(h.has(A))return}if(qa(e,p,v),v&&p===void 0){var I=e.querySelector(":checked");I!==null&&(p=we(I),f(p))}e.__value=p,v=!1}),Ti(e)}function we(e){return"__value"in e?e.__value:e.value}function j(e,s,f=s){var h=new WeakSet;ft(e,"input",async v=>{var p=v?e.defaultValue:e.value;if(p=vt(e)?pt(p):p,f(p),re!==null&&h.add(re),await yi(),p!==(p=s())){var A=e.selectionStart,I=e.selectionEnd,n=e.value.length;if(e.value=p??"",I!==null){var b=e.value.length;A===I&&I===n&&b>n?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=A,e.selectionEnd=Math.min(I,b))}}}),(Te&&e.defaultValue!==e.value||m(s)==null&&e.value)&&(f(vt(e)?pt(e.value):e.value),re!==null&&h.add(re)),Xa(()=>{var v=s();if(e===document.activeElement){var p=Va??re;if(h.has(p))return}vt(e)&&v===pt(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function Ba(e,s,f=s){ft(e,"change",h=>{var v=h?e.defaultChecked:e.checked;f(v)}),(Te&&e.defaultChecked!==e.checked||m(s)==null)&&f(e.checked),Xa(()=>{var h=s();e.checked=!!h})}function vt(e){var s=e.type;return s==="number"||s==="range"}function pt(e){return e===""?null:+e}function Ui(e){return function(...s){var f=s[0];return f.preventDefault(),e?.apply(this,s)}}function ji(e,s){var f=e.$$events?.[s.type],h=za(f)?f.slice():f==null?[]:[f];for(var v of h)v.call(this,s)}const Bi=!0,fr=Object.freeze(Object.defineProperty({__proto__:null,prerender:Bi},Symbol.toStringTag,{value:"Module"})),Ya={principal:1e3,cryptoType:"ETH",apr:5,compoundingInterval:"daily",customIntervalSeconds:86400,durationDays:365,lockUpDays:0,lockUpPenalty:0,slashingProbability:0,validatorFee:0,inflationRate:0,rewardDelayDays:0,taxRate:0,fiatRate:1,restaking:!1,autoCompounding:!0},Yi=[{value:"daily",label:"Daily",seconds:86400},{value:"weekly",label:"Weekly",seconds:604800},{value:"monthly",label:"Monthly",seconds:2592e3},{value:"quarterly",label:"Quarterly",seconds:7776e3},{value:"annually",label:"Annually",seconds:31536e3},{value:"custom",label:"Custom"}];function Mi(e){const s=[];return e.principal<=0&&s.push("Principal must be positive."),e.apr<0&&s.push("APR must be non-negative."),e.durationDays<=0&&s.push("Duration must be positive."),(e.lockUpDays<0||e.lockUpDays>e.durationDays)&&s.push("Lock-up days invalid."),(e.lockUpPenalty<0||e.lockUpPenalty>100)&&s.push("Lock-up penalty must be 0-100%."),(e.slashingProbability<0||e.slashingProbability>100)&&s.push("Slashing probability must be 0-100%."),(e.validatorFee<0||e.validatorFee>100)&&s.push("Validator fee must be 0-100%."),e.inflationRate<0&&s.push("Inflation rate must be non-negative."),e.rewardDelayDays<0&&s.push("Reward delay must be non-negative."),(e.taxRate<0||e.taxRate>100)&&s.push("Tax rate must be 0-100%."),e.fiatRate<=0&&s.push("Fiat rate must be positive."),e.compoundingInterval==="custom"&&e.customIntervalSeconds<=0&&s.push("Custom interval must be positive seconds."),{valid:s.length===0,errors:s}}function Oi(e){let h=e.apr-e.inflationRate;h<0&&(h=0);let v=e.customIntervalSeconds;if(e.compoundingInterval!=="custom"){const x=intervalOptions.find(F=>F.value===e.compoundingInterval);v=x?x.seconds:86400}const p=31536e3/v,A=h/100/p,I=e.durationDays*86400;let n=Math.floor(I/v);const b=e.rewardDelayDays*86400,oe=Math.floor(b/v),X=Math.max(0,n-oe);if(X<=0)return{net:e.principal,totalRewards:0,netFiat:e.principal*e.fiatRate,effectiveApy:0,breakdown:[]};let ne=A;e.restaking&&(ne*=1.1);const q=(e.validatorFee+e.slashingProbability)/100;let $,ae;if(e.autoCompounding){const x=ne*(1-q);$=e.principal*Math.pow(1+x,X),ae=$-e.principal}else{const x=ne*(1-q);ae=e.principal*x*X,$=e.principal+ae}if(e.durationDays<e.lockUpDays){const x=e.lockUpPenalty/100*$;$-=x,ae-=x}const xe=ae*(e.taxRate/100),O=$-xe,W=O*e.fiatRate,N=(Math.pow($/e.principal,1/(e.durationDays/365))-1)*100,B=Math.max(1,Math.ceil(X/1e3)),H=[];let J=e.principal;for(let x=B;x<=X;x+=B){let F;e.autoCompounding?F=e.principal*Math.pow(1+ne*(1-q),x):F=e.principal+e.principal*ne*(1-q)*x;const Z=F-J;H.push({period:x,reward:Z,cumulative:F,afterDeduction:F*(1-q),afterInflation:F}),J=F}return H.push({period:X,reward:$-J,cumulative:$,afterDeduction:$*(1-q),afterInflation:$}),{net:O,totalRewards:ae,netFiat:W,effectiveApy:N,breakdown:H,tax:xe,finalAmountBeforeTax:$}}function Ma(e){return!e||!Array.isArray(e)?[]:e.map(s=>({period:s.period,reward:s.reward.toFixed(8),cumulative:s.cumulative.toFixed(8),afterDeduction:s.afterDeduction.toFixed(8),afterInflation:s.afterInflation.toFixed(8)}))}function Ni(e){return!e||!e.breakdown?"":["Period,Reward,Cumulative,After Deduction,After Inflation",...e.breakdown.map(f=>`${f.period},${f.reward.toFixed(8)},${f.cumulative.toFixed(8)},${f.afterDeduction.toFixed(8)},${f.afterInflation.toFixed(8)}`)].join(`
`)}var zi=te('<meta name="description" content="Professional client-side calculator for precise crypto staking reward projections. Model compounding, fees, slashing, inflation, taxes, restaking, and lock-up penalties with interactive charts and detailed breakdowns."/> <meta name="keywords" content="crypto staking calculator, staking rewards, compounding calculator, proof of stake yield, validator fees, slashing risk, network inflation, restaking, auto compounding, staking tax"/> <meta name="robots" content="index, follow"/> <meta property="og:title" content="Crypto Staking Calculator | Advanced Reward Modeling Tool"/> <meta property="og:description" content="Accurate staking reward projections with full modeling of compounding intervals, validator fees, slashing risks, inflation, delays, taxes, and restaking strategies."/> <meta property="og:url"/> <meta property="og:type" content="website"/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:title" content="Crypto Staking Calculator | Advanced Reward Modeling Tool"/> <meta name="twitter:description" content="Professional client-side tool for detailed crypto staking analysis with interactive charts and comprehensive parameter modeling."/>',1),Vi=te("<option> </option>"),Xi=te('<div class="mb-3"><label for="customIntervalSeconds" class="form-label">Custom Interval (seconds)</label> <input id="customIntervalSeconds" type="number" class="form-control"/></div>'),qi=te("<li> </li>"),Wi=te('<div class="alert alert-danger mt-4 border-0 shadow-sm glass"><strong>Validation Errors:</strong> <ul class="mb-0 mt-2"></ul></div>'),Hi=te('<tr style="color: var(--color-text-main);"><td> </td><td> </td><td> </td><td> </td><td> </td></tr>'),Ji=Oa('<line stroke-width="0.5" class="svelte-1uha8ag"></line><text text-anchor="middle" font-size="12" class="svelte-1uha8ag"> </text>',1),Zi=Oa('<line stroke-width="0.5" class="svelte-1uha8ag"></line><text text-anchor="end" font-size="12" class="svelte-1uha8ag"> </text>',1),Gi=te('<div class="position-absolute glass shadow p-2"> </div>'),Qi=te('<div class="mt-5"><h2 class="mb-4 text-center text-gradient">Professional Reward Analysis</h2> <div class="row g-4 mb-5"><div class="col-md-3"><div class="card glass-card text-center h-100"><div class="card-header bg-transparent">Net Amount</div> <div class="card-body"><h4> </h4></div></div></div> <div class="col-md-3"><div class="card glass-card text-center h-100"><div class="card-header bg-transparent">Total Rewards</div> <div class="card-body"><h4> </h4></div></div></div> <div class="col-md-3"><div class="card glass-card text-center h-100"><div class="card-header bg-transparent">Net in Fiat</div> <div class="card-body"><h4> </h4></div></div></div> <div class="col-md-3"><div class="card glass-card text-center h-100"><div class="card-header bg-transparent">Effective APY</div> <div class="card-body"><h4> </h4></div></div></div></div> <div class="card glass-card mb-5 shadow-sm overflow-hidden"><div class="card-header bg-transparent py-3"><h3 class="h5 mb-0">Detailed Breakdown Table</h3></div> <div class="table-container svelte-1uha8ag"><div class="table-responsive"><table class="table table-hover table-bordered mb-0 svelte-1uha8ag" style="background: transparent;"><thead class="table-light sticky-top svelte-1uha8ag"><tr><th class="svelte-1uha8ag">Period</th><th class="svelte-1uha8ag">Reward</th><th class="svelte-1uha8ag">Cumulative</th><th class="svelte-1uha8ag">After Deductions</th><th class="svelte-1uha8ag">After Inflation</th></tr></thead><tbody></tbody></table></div></div></div> <h3 class="mt-5 mb-3 text-center text-gradient">Interactive Growth Analytics Chart</h3> <div class="card glass-card mb-5 shadow-sm"><div class="card-header bg-transparent d-flex justify-content-between align-items-center"><span> </span> <div><button class="btn btn-sm btn-outline-secondary me-2">Zoom In</button> <button class="btn btn-sm btn-outline-secondary me-2">Zoom Out</button> <button class="btn btn-sm btn-outline-secondary me-2">Reset</button> <button class="btn btn-sm btn-warning">Export PNG</button></div></div> <div class="card-body p-0 position-relative" style="overflow: hidden;"><canvas class="position-absolute" style="z-index: 10; cursor: move;"></canvas> <svg id="growth-chart" class="svelte-1uha8ag"><g><!><!><text text-anchor="middle" font-weight="bold" font-size="14" class="svelte-1uha8ag">Period (Time)</text><text text-anchor="middle" font-weight="bold" font-size="14" class="svelte-1uha8ag"> </text><polyline fill="none" stroke="var(--color-chart-line)" stroke-width="3" class="svelte-1uha8ag"></polyline><polyline fill="none" stroke="#9c27b0" stroke-width="2" stroke-dasharray="5,5" class="svelte-1uha8ag"></polyline><polyline fill="none" stroke="#e91e63" stroke-width="2" stroke-dasharray="3,3" class="svelte-1uha8ag"></polyline></g></svg> <!></div></div> <div class="text-center mb-5"><button class="btn btn-secondary me-3 shadow-sm">Export Breakdown CSV</button> <button class="btn btn-secondary shadow-sm">Export Full JSON</button></div></div>'),Ki=te(`<div class="container" style="padding-top: 6rem;"><section id="home" class="mb-5"><div class="text-center mb-5"><h1 class="display-4 fw-bold mb-3 text-gradient">Crypto Staking Calculator</h1> <p class="lead text-muted">Optimize your rewards with professional analytics</p></div> <div class="mb-4 text-center"><button class="btn btn-outline-success me-3 shadow-sm">ðŸ’¾ Save Session</button> <button class="btn btn-outline-info shadow-sm">ðŸ“‚ Load Session</button></div> <form><div class="row g-4"><div class="col-md-6"><div class="card glass-card h-100"><div class="card-header border-0 bg-transparent text-primary">Basic Parameters</div> <div class="card-body"><div class="mb-3"><label for="principal" class="form-label">Principal Amount</label> <input id="principal" type="number" class="form-control" step="any"/></div> <div class="mb-3"><label for="cryptoType" class="form-label">Crypto Type</label> <input id="cryptoType" type="text" class="form-control"/></div> <div class="mb-3"><label for="apr" class="form-label">APR (%)</label> <input id="apr" type="number" class="form-control" step="0.01"/></div></div></div></div> <div class="col-md-6"><div class="card glass-card h-100"><div class="card-header border-0 bg-transparent text-primary">Compounding & Duration</div> <div class="card-body"><div class="mb-3"><label for="compoundingInterval" class="form-label">Compounding Interval</label> <select id="compoundingInterval" class="form-select"></select></div> <!> <div class="mb-3"><label for="durationDays" class="form-label">Duration (days)</label> <input id="durationDays" type="number" class="form-control"/></div></div></div></div> <div class="col-md-6"><div class="card glass-card h-100"><div class="card-header border-0 bg-transparent text-primary">Risk & Fees</div> <div class="card-body"><div class="mb-3"><label for="lockUpDays" class="form-label">Lock-up Days</label> <input id="lockUpDays" type="number" class="form-control"/></div> <div class="mb-3"><label for="lockUpPenalty" class="form-label">Lock-up Penalty (%)</label> <input id="lockUpPenalty" type="number" class="form-control"/></div> <div class="mb-3"><label for="slashingProbability" class="form-label">Slashing Probability (%)</label> <input id="slashingProbability" type="number" class="form-control"/></div> <div class="mb-3"><label for="validatorFee" class="form-label">Validator Fee (%)</label> <input id="validatorFee" type="number" class="form-control"/></div> <div class="mb-3"><label for="inflationRate" class="form-label">Inflation Rate (%)</label> <input id="inflationRate" type="number" class="form-control"/></div></div></div></div> <div class="col-md-6"><div class="card glass-card h-100"><div class="card-header border-0 bg-transparent text-primary">Additional Adjustments</div> <div class="card-body"><div class="mb-3"><label for="rewardDelayDays" class="form-label">Reward Delay (days)</label> <input id="rewardDelayDays" type="number" class="form-control"/></div> <div class="mb-3"><label for="taxRate" class="form-label">Tax Rate (%)</label> <input id="taxRate" type="number" class="form-control"/></div> <div class="mb-3"><label for="fiatRate" class="form-label">Fiat Conversion Rate</label> <input id="fiatRate" type="number" class="form-control"/></div> <div class="form-check mb-2"><input id="restaking" type="checkbox" class="form-check-input"/> <label for="restaking" class="form-check-label">Enable Restaking</label></div> <div class="form-check"><input id="autoCompounding" type="checkbox" class="form-check-input"/> <label for="autoCompounding" class="form-check-label">Auto-Compounding</label></div></div></div></div></div> <div class="text-center mt-5"><button type="button" class="btn btn-primary btn-lg px-5 shadow-lg">Calculate Rewards</button></div></form> <!> <!></section> <section id="about" class="py-5"><div class="card glass-card p-5"><h2 class="text-gradient">About</h2> <p>The Crypto Staking Calculator is a comprehensive, fully client-side web utility designed to provide precise and detailed staking reward projections for proof-of-stake blockchain networks. Built with a focus on technical accuracy and user privacy, it enables stakers, investors, and researchers to model complex scenarios that go far beyond simple APR multiplication.</p> <p>This tool addresses the limitations of basic calculators by incorporating every significant factor that influences real-world staking returns. Users can input principal amounts, annual percentage rates (APR), custom compounding intervals (from daily to hourly or even second-by-second), staking duration, lock-up periods with early withdrawal penalties, validator commission fees, slashing risk probabilities, network inflation rates, reward distribution delays, tax withholding on rewards, fiat conversion rates, restaking scenarios, and auto-compounding behavior.</p> <p>All calculations are performed locally in the browser using advanced mathematical modeling, ensuring complete data isolation and privacy. The reward engine simulates periodic compounding with adjustments for inflation dilution, fee deductions, probabilistic slashing, delayed reward crediting, and conditional lock-up penalties. Results include gross rewards, net principal growth, post-tax balances, effective annual percentage yield (APY), and fiat-equivalent values.</p> <p>Visual analytics feature an interactive growth chart with multiple series (cumulative balance, post-deduction balance, post-inflation balance), pan/zoom capabilities up to 50x magnification, hover tooltips with period-specific details, and export options for PNG images. A detailed breakdown table provides sampled periodic snapshots for in-depth analysis, while CSV and JSON exports allow further external processing.</p> <p>Session persistence via browser localStorage enables users to save and reload complex parameter sets. The tool operates entirely offline after initial load, making it suitable for secure environments. By covering every minute detailâ€”from custom compounding intervals to probabilistic risk modelingâ€”this calculator delivers professional-grade projections that reflect actual network economics rather than simplified assumptions.</p> <p>Whether evaluating short-term delegation strategies or multi-year holding plans, the Crypto Staking Calculator provides the depth and precision needed for informed decision-making in proof-of-stake ecosystems.</p> <p class="italic-note">Empowering accurate staking analysis through comprehensive, privacy-focused modeling.</p></div></section> <section id="how-to" class="py-5"><div class="card glass-card p-5"><h2 class="text-gradient">How to Use</h2> <p>The Crypto Staking Calculator offers an intuitive yet powerful interface for modeling sophisticated staking scenarios. Begin by entering your principal staking amount and selecting the cryptocurrency type for reference. Input the network's annual percentage rate (APR) or expected reward rate as the base yield parameter.</p> <p>Choose your compounding interval from preset options (daily, weekly, monthly, quarterly, annually) or select "Custom" to specify exact seconds between reward creditsâ€”this enables precise modeling of networks with continuous or near-continuous distribution. Set the intended staking duration in days for accurate time-bound projections.</p> <p>Incorporate risk and cost factors by entering validator commission rates, estimated slashing probability (based on historical validator performance), and network inflation rate. Specify any reward distribution delay (time between earning and crediting rewards) and lock-up period with associated early withdrawal penalty percentage.</p> <p>For fiscal planning, input your applicable tax rate on rewards and current fiat conversion rate to view post-tax net balances and real-world value equivalents. Toggle restaking to simulate layered yield strategies and auto-compounding to ensure rewards are immediately reinvested.</p> <p>Click "Calculate Rewards" to generate results. The summary displays net final amount, total gross rewards, tax deducted, fiat equivalent, and effective APY after all adjustments. Below, a scrollable breakdown table shows periodic snapshots of growth, deductions, and inflation impact.</p> <p>The interactive growth chart visualizes multiple series with pan/zoom functionalityâ€”use mouse wheel to zoom (up to 50x for minute detail inspection) and drag to navigate. Hover data points for precise period values. Export charts as PNG, breakdowns as CSV, or full results as JSON for external analysis.</p> <p>Use "Save Session" to persist current parameters via browser localStorage for future reference, and "Load Session" to restore previous configurations. All data remains exclusively on your device.</p> <p>For optimal accuracy, research your target network's exact parameters (reward timing, inflation schedule, typical validator fees) and input them accordingly. The calculator's strength lies in its ability to reflect real network economics rather than simplified assumptions.</p> <p class="italic-note">Precise inputs yield professional-grade projectionsâ€”adjust parameters iteratively to explore different strategies.</p></div></section> <section id="faq" class="py-5"><div class="card glass-card p-5"><h2 class="text-gradient">FAQ</h2> <h3>Is this calculator connected to any blockchain or wallet?</h3> <p>No. The Crypto Staking Calculator is entirely client-side and offline-capable after loading. It does not connect to any blockchain, wallet, or external service beyond optional CDN resources for styling. Your inputs never leave your browser.</p> <h3>How accurate are the reward projections?</h3> <p>Projections are mathematically precise based on provided inputs and assumptions. Accuracy depends on using correct network parameters (APR, inflation schedule, reward timing, etc.). Real returns may vary due to network changes, validator performance, or market conditions.</p> <h3>Why does compounding frequency matter so much?</h3> <p>Frequent compounding significantly increases effective yield through exponential growth on reinvested rewards. Hourly vs daily compounding can add meaningful percentage points over years, while custom intervals allow modeling of continuous distribution networks.</p> <h3>Should I include taxes in calculations?</h3> <p>Yes, for realistic net return planning. Most jurisdictions treat staking rewards as taxable income. Including expected tax rates provides true post-fiscal yield rather than gross figures that overstate actual outcomes.</p> <h3>What does restaking simulation represent?</h3> <p>The restaking toggle models layered security protocols where staked assets earn additional rewards from secondary networks. It applies a simulated yield multiplier to approximate combined reward streams while maintaining principal exposure.</p> <h3>How is inflation adjustment calculated?</h3> <p>Inflation reduces effective base rate before compounding (Effective APR = APR - Inflation). This reflects token dilution impact on purchasing power, providing more realistic long-term growth estimates than nominal balance increases.</p> <h3>Can I trust the slashing risk modeling?</h3> <p>Slashing is modeled as an average probabilistic deduction based on input percentage. Use historical validator data for realistic estimates. Rare but severe events are averaged across periods rather than simulated as discrete occurrences.</p> <h3>Why include lock-up penalties?</h3> <p>Many networks enforce commitment periods with withdrawal penalties. Including these ensures projections reflect actual accessible returns for planned durations, preventing overestimation for short-term strategies.</p> <h3>Is my data saved anywhere?</h3> <p>Only if you explicitly click "Save Session," which uses your browser's localStorage. Data remains solely on your device and can be cleared anytime. No information is transmitted or stored externally.</p> <h3>Can I use this for professional analysis?</h3> <p>Yes. The tool's depthâ€”covering every significant variable with high-precision calculations and export capabilitiesâ€”makes it suitable for serious staking research and portfolio planning.</p> <p class="italic-note">These answers address common questions about functionality and best practices for accurate modeling.</p></div></section></div>`);function mr(e,s){_i(s,!1);const f=()=>Fe(H,"$viewBoxX",A),h=()=>Fe(J,"$viewBoxY",A),v=()=>Fe(x,"$viewBoxWidth",A),p=()=>Fe(F,"$viewBoxHeight",A),[A,I]=Ai();let n=k({...Ya}),b=k(null),oe=k([]);const X="cryptoStakingCalculatorSession";function ne(){try{localStorage.setItem(X,JSON.stringify(t(n))),alert("Session saved successfully!")}catch{alert("Failed to save session.")}}function q(a=!1){try{const l=localStorage.getItem(X);if(l){const c=JSON.parse(l);y(n,{...Ya,...c}),a&&alert("Session loaded successfully!")}else a&&!l&&a&&alert("No saved session found.")}catch{a&&alert("Failed to load session.")}}mi(()=>{q(!1)});function $(){const a=Mi(t(n));if(y(oe,a.errors),a.valid)try{y(b,Oi(t(n))),Dt()}catch{y(oe,["Calculation failed - check console for details"])}else y(b,null)}function ae(){if(!t(b))return;const a=Ni(t(b)),l=new Blob([a],{type:"text/csv"}),c=URL.createObjectURL(l),g=document.createElement("a");g.href=c,g.download="staking_rewards.csv",g.click(),URL.revokeObjectURL(c)}function xe(){if(!t(b))return;const a=JSON.stringify(t(b),null,2),l=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(l),g=document.createElement("a");g.href=c,g.download="staking_rewards.json",g.click(),URL.revokeObjectURL(c)}const O=1200,W=600,N={top:40,right:80,bottom:80,left:150},de=O-N.left-N.right,B=W-N.top-N.bottom;let H=Ee(0),J=Ee(0),x=Ee(de),F=Ee(B),Z=k(1);const mt=1,ht=50;let Le=!1,bt=0,gt=0,yt=0,_t=0,Ue=k(!1),wt=k(0),xt=k(0),kt=k(""),ke=k(0),me=k(0),se=k(1),Se=k(1),St=k([]),Rt=k([]),Re=k([]),De=k([]),Ce=k([]),he=k("Value (Full Amount)"),je=k(-100);function ue(a){return a/t(ke)*de}function ve(a){return B-(a-t(me))/t(Se)*B}function Dt(){E(H,0),E(J,0),E(x,de),E(F,B),y(Z,1)}function Ct(a){const l=t(Z)*a;if(l<mt||l>ht)return;const c=f()+v()/2,g=h()+p()/2;E(x,v()/a),E(F,p()/a),E(H,c-v()/2),E(J,g-p()/2),y(Z,l)}function It(a){a.preventDefault();const l=a.deltaY<0?1.1:.9,c=a.currentTarget.getBoundingClientRect(),g=a.clientX-c.left,d=a.clientY-c.top,R=f()+g/O*v(),T=h()+d/W*p(),Y=t(Z)*(l>1?l:1/l);if(Y<mt||Y>ht)return;const z=v()/l,G=p()/l;E(H,R-g/O*z),E(J,T-d/W*G),E(x,z),E(F,G),y(Z,Y)}function Pt(a){Le=!0,bt=a.clientX,gt=a.clientY,yt=f(),_t=h()}function At(a){if(!Le)return;const l=(bt-a.clientX)*(v()/O),c=(gt-a.clientY)*(p()/W);E(H,yt+l),E(J,_t+c)}function Be(){Le=!1}function Wa(a,l){const c=a.currentTarget.getBoundingClientRect();y(wt,a.clientX-c.left+10),y(xt,a.clientY-c.top-20),y(kt,`Period: ${l.data.period}
Reward: ${l.data.reward.toFixed(8)}
Cumulative: ${l.data.cumulative.toFixed(8)}
After Deduction: ${l.data.afterDeduction.toFixed(8)}
After Inflation: ${l.data.afterInflation.toFixed(8)}`),y(Ue,!0)}function Ha(a){return a.addEventListener("wheel",It,{passive:!1}),a.addEventListener("mousedown",Pt),a.addEventListener("mousemove",At),a.addEventListener("mouseup",Be),a.addEventListener("mouseleave",Be),a.addEventListener("mousemove",l=>{const c=a.getBoundingClientRect(),g=l.clientX-c.left-N.left,d=l.clientY-c.top-N.top,R=[...t(Re),...t(De),...t(Ce)];let T=null,Y=1/0;R.forEach(z=>{const G=Math.hypot(z.x-g,z.y-d);G<20&&G<Y&&(Y=G,T=z)}),T?Wa(l,T):y(Ue,!1)}),{destroy(){a.removeEventListener("wheel",It),a.removeEventListener("mousedown",Pt),a.removeEventListener("mousemove",At),a.removeEventListener("mouseup",Be)}}}function Ja(){const a=document.querySelector("#growth-chart");if(!a)return;const l=new XMLSerializer().serializeToString(a),c=document.createElement("canvas");c.width=O*2,c.height=W*2;const g=c.getContext("2d"),d=new Image,R=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),T=URL.createObjectURL(R);d.onload=()=>{g.drawImage(d,0,0,c.width,c.height);const Y=document.createElement("a");Y.href=c.toDataURL("image/png"),Y.download="staking_growth_chart.png",Y.click(),URL.revokeObjectURL(T)},d.src=T}wi(()=>(t(b),t(ke),t(me),t(se),t(Se)),()=>{if(t(b)&&t(b).breakdown){const a=t(b).breakdown;y(ke,Math.max(...a.map(d=>d.period))||1);const l=a.map(d=>Math.min(d.cumulative,d.afterDeduction,d.afterInflation)),c=a.map(d=>Math.max(d.cumulative,d.afterDeduction,d.afterInflation));y(me,Math.min(...l)),y(se,Math.max(...c)),y(Se,t(se)-t(me)||1),y(St,Array.from({length:11},(d,R)=>R/10*t(ke))),y(Rt,Array.from({length:11},(d,R)=>t(me)+R/10*t(Se))),y(Re,a.map(d=>({x:ue(d.period),y:ve(d.cumulative),data:d}))),y(De,a.map(d=>({x:ue(d.period),y:ve(d.afterDeduction),data:d}))),y(Ce,a.map(d=>({x:ue(d.period),y:ve(d.afterInflation),data:d}))),t(se)>=1e9?y(he,"Value (Billions)"):t(se)>=1e6?y(he,"Value (Millions)"):t(se)>=1e3?y(he,"Value (Thousands)"):y(he,"Value (Amount)");const g=t(se).toFixed(2);y(je,-30-g.length*8)}}),xi(),Pi();var Ye=Ki();Ii("1uha8ag",a=>{var l=zi(),c=r(dt(l),10);ut(8),ee(()=>_(c,"content",`${$i??""}/`)),Na(()=>{Si.title="Crypto Staking Calculator | Advanced Reward Modeling Tool"}),M(a,l)});var Me=o(Ye),$t=o(Me),Ie=r($t,2),Ft=o(Ie),Za=r(Ft,2);i(Ie);var be=r(Ie,2),Oe=o(be),Ne=o(Oe),Et=o(Ne),Tt=r(o(Et),2),ze=o(Tt),Lt=r(o(ze),2);P(Lt),i(ze);var Ve=r(ze,2),Ut=r(o(Ve),2);P(Ut),i(Ve);var jt=r(Ve,2),Bt=r(o(jt),2);P(Bt),i(jt),i(Tt),i(Et),i(Ne);var Xe=r(Ne,2),Yt=o(Xe),Mt=r(o(Yt),2),qe=o(Mt),We=r(o(qe),2);ee(()=>{t(n),Ri(()=>{})}),ye(We,5,()=>Yi,_e,(a,l)=>{var c=Vi(),g=o(c,!0);i(c);var d={};ee(()=>{C(g,(t(l),m(()=>t(l).label))),d!==(d=(t(l),m(()=>t(l).value)))&&(c.value=(c.__value=(t(l),m(()=>t(l).value)))??"")}),M(a,c)}),i(We),i(qe);var Ot=r(qe,2);{var Ga=a=>{var l=Xi(),c=r(o(l),2);P(c),i(l),j(c,()=>t(n).customIntervalSeconds,g=>D(n,t(n).customIntervalSeconds=g)),ie(3,l,()=>ja),M(a,l)};Ae(Ot,a=>{t(n),m(()=>t(n).compoundingInterval==="custom")&&a(Ga)})}var Nt=r(Ot,2),zt=r(o(Nt),2);P(zt),i(Nt),i(Mt),i(Yt),i(Xe);var He=r(Xe,2),Vt=o(He),Xt=r(o(Vt),2),Je=o(Xt),qt=r(o(Je),2);P(qt),i(Je);var Ze=r(Je,2),Wt=r(o(Ze),2);P(Wt),i(Ze);var Ge=r(Ze,2),Ht=r(o(Ge),2);P(Ht),i(Ge);var Qe=r(Ge,2),Jt=r(o(Qe),2);P(Jt),i(Qe);var Zt=r(Qe,2),Gt=r(o(Zt),2);P(Gt),i(Zt),i(Xt),i(Vt),i(He);var Qt=r(He,2),Kt=o(Qt),ea=r(o(Kt),2),Ke=o(ea),ta=r(o(Ke),2);P(ta),i(Ke);var et=r(Ke,2),aa=r(o(et),2);P(aa),i(et);var tt=r(et,2),ia=r(o(tt),2);P(ia),i(tt);var at=r(tt,2),ra=o(at);P(ra),ut(2),i(at);var oa=r(at,2),na=o(oa);P(na),ut(2),i(oa),i(ea),i(Kt),i(Qt),i(Oe);var sa=r(Oe,2),Qa=o(sa);i(sa),i(be);var la=r(be,2);{var Ka=a=>{var l=Wi(),c=r(o(l),2);ye(c,5,()=>t(oe),_e,(g,d)=>{var R=qi(),T=o(R,!0);i(R),ee(()=>C(T,t(d))),M(g,R)}),i(c),i(l),M(a,l)};Ae(la,a=>{t(oe),m(()=>t(oe).length>0)&&a(Ka)})}var ei=r(la,2);{var ti=a=>{var l=Qi(),c=r(o(l),2),g=o(c),d=o(g),R=r(o(d),2),T=o(R),Y=o(T,!0);i(T),i(R),i(d),i(g);var z=r(g,2),G=o(z),ua=r(o(G),2),va=o(ua),ii=o(va,!0);i(va),i(ua),i(G),i(z);var it=r(z,2),pa=o(it),fa=r(o(pa),2),ma=o(fa),ri=o(ma);i(ma),i(fa),i(pa),i(it);var ha=r(it,2),ba=o(ha),ga=r(o(ba),2),ya=o(ga),oi=o(ya);i(ya),i(ga),i(ba),i(ha),i(c);var rt=r(c,2),_a=r(o(rt),2),wa=o(_a),xa=o(wa),ka=r(o(xa));ye(ka,5,()=>(Di(Ma),t(b),m(()=>Ma(t(b).breakdown))),_e,(w,u)=>{var L=Hi(),S=o(L),U=o(S,!0);i(S);var Q=r(S),le=o(Q,!0);i(Q);var K=r(Q),ge=o(K,!0);i(K);var ce=r(K),pi=o(ce,!0);i(ce);var La=r(ce),fi=o(La,!0);i(La),i(L),ee(()=>{C(U,(t(u),m(()=>t(u).period))),C(le,(t(u),m(()=>t(u).reward))),C(ge,(t(u),m(()=>t(u).cumulative))),C(pi,(t(u),m(()=>t(u).afterDeduction))),C(fi,(t(u),m(()=>t(u).afterInflation)))}),M(w,L)}),i(ka),i(xa),i(wa),i(_a),i(rt);var ot=r(rt,4),nt=o(ot),st=o(nt),ni=o(st);i(st);var Sa=r(st,2),Ra=o(Sa),Da=r(Ra,2),Ca=r(Da,2),si=r(Ca,2);i(Sa),i(nt);var Ia=r(nt,2),Pe=o(Ia);_(Pe,"width",O),_(Pe,"height",W),Ci(Pe,w=>Ha?.(w));var pe=r(Pe,2);_(pe,"width",O),_(pe,"height",W);var lt=o(pe),Pa=o(lt);ye(Pa,1,()=>t(St),_e,(w,u)=>{var L=Ji(),S=dt(L);_(S,"y1",0);var U=r(S),Q=o(U,!0);i(U),ee((le,K,ge,ce)=>{_(S,"x1",le),_(S,"x2",K),_(S,"y2",B),_(U,"x",ge),_(U,"y",B+25),C(Q,ce)},[()=>(t(u),m(()=>ue(t(u)))),()=>(t(u),m(()=>ue(t(u)))),()=>(t(u),m(()=>ue(t(u)))),()=>(t(u),m(()=>Math.round(t(u))))]),M(w,L)});var Aa=r(Pa);ye(Aa,1,()=>t(Rt),_e,(w,u)=>{var L=Zi(),S=dt(L);_(S,"x1",0);var U=r(S);_(U,"x",-15);var Q=o(U,!0);i(U),ee((le,K,ge,ce)=>{_(S,"y1",le),_(S,"x2",de),_(S,"y2",K),_(U,"y",ge),C(Q,ce)},[()=>(t(u),m(()=>ve(t(u)))),()=>(t(u),m(()=>ve(t(u)))),()=>(t(u),m(()=>ve(t(u))+5)),()=>(t(u),m(()=>t(u).toFixed(2)))]),M(w,L)});var ct=r(Aa),fe=r(ct),li=o(fe,!0);i(fe);var $a=r(fe),Fa=r($a),ci=r(Fa);i(lt),i(pe);var di=r(pe,2);{var ui=w=>{var u=Gi(),L=o(u,!0);i(u),ee(()=>{Ei(u,`left: ${t(wt)??""}px; top: ${t(xt)??""}px; z-index: 1000; white-space: pre-line; border: 1px solid var(--color-accent); font-size: 0.85rem; color: var(--color-text-main);`),C(L,t(kt))}),M(w,u)};Ae(di,w=>{t(Ue)&&w(ui)})}i(Ia),i(ot);var Ea=r(ot,2),Ta=o(Ea),vi=r(Ta,2);i(Ea),i(l),ee((w,u,L,S,U,Q,le,K)=>{C(Y,w),C(ii,u),C(ri,`$${L??""}`),C(oi,`${S??""}%`),C(ni,`Zoom Level: ${U??""}x`),_(pe,"viewBox",`${f()} ${h()} ${v()} ${p()}`),_(lt,"transform",m(()=>`translate(${N.left},${N.top})`)),_(ct,"x",de/2),_(ct,"y",B+60),_(fe,"x",t(je)),_(fe,"y",B/2),_(fe,"transform",`rotate(-90, ${t(je)}, ${B/2})`),C(li,t(he)),_($a,"points",Q),_(Fa,"points",le),_(ci,"points",K)},[()=>(t(b),m(()=>t(b).net.toFixed(8))),()=>(t(b),m(()=>t(b).totalRewards.toFixed(8))),()=>(t(b),m(()=>t(b).netFiat.toFixed(2))),()=>(t(b),m(()=>t(b).effectiveApy.toFixed(2))),()=>(t(Z),m(()=>t(Z).toFixed(2))),()=>(t(Re),m(()=>t(Re).map(w=>`${w.x},${w.y}`).join(" "))),()=>(t(De),m(()=>t(De).map(w=>`${w.x},${w.y}`).join(" "))),()=>(t(Ce),m(()=>t(Ce).map(w=>`${w.x},${w.y}`).join(" ")))]),V("click",Ra,()=>Ct(1.2)),V("click",Da,()=>Ct(.8)),V("click",Ca,Dt),V("click",si,Ja),V("click",Ta,ae),V("click",vi,xe),ie(3,l,()=>ja),M(a,l)};Ae(ei,a=>{t(b)&&a(ti)})}i(Me);var ca=r(Me,2),da=r(ca,2),ai=r(da,2);i(Ye),ie(1,$t,()=>$e,()=>({y:20,duration:800})),V("click",Ft,ne),V("click",Za,()=>q(!0)),ie(1,Ie,()=>Ua,()=>({y:20,duration:800,delay:100})),j(Lt,()=>t(n).principal,a=>D(n,t(n).principal=a)),j(Ut,()=>t(n).cryptoType,a=>D(n,t(n).cryptoType=a)),j(Bt,()=>t(n).apr,a=>D(n,t(n).apr=a)),Li(We,()=>t(n).compoundingInterval,a=>D(n,t(n).compoundingInterval=a)),j(zt,()=>t(n).durationDays,a=>D(n,t(n).durationDays=a)),j(qt,()=>t(n).lockUpDays,a=>D(n,t(n).lockUpDays=a)),j(Wt,()=>t(n).lockUpPenalty,a=>D(n,t(n).lockUpPenalty=a)),j(Ht,()=>t(n).slashingProbability,a=>D(n,t(n).slashingProbability=a)),j(Jt,()=>t(n).validatorFee,a=>D(n,t(n).validatorFee=a)),j(Gt,()=>t(n).inflationRate,a=>D(n,t(n).inflationRate=a)),j(ta,()=>t(n).rewardDelayDays,a=>D(n,t(n).rewardDelayDays=a)),j(aa,()=>t(n).taxRate,a=>D(n,t(n).taxRate=a)),j(ia,()=>t(n).fiatRate,a=>D(n,t(n).fiatRate=a)),Ba(ra,()=>t(n).restaking,a=>D(n,t(n).restaking=a)),Ba(na,()=>t(n).autoCompounding,a=>D(n,t(n).autoCompounding=a)),V("click",Qa,$),V("submit",be,Ui(function(a){ji.call(this,s,a)})),ie(1,be,()=>Ua,()=>({y:30,duration:800,delay:200})),ie(1,ca,()=>$e),ie(1,da,()=>$e),ie(1,ai,()=>$e),M(e,Ye),ki(),I()}export{mr as component,fr as universal};
